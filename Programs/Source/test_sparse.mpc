from recommender import *
from util import *
# Python preprocessing for simulation of local computation.

folder = "Prep-Data/ml-latest-small"


D = dataset(folder, discretize=2)
M = D.read()

n = D.n
m = D.m

M2 = square_M(M,n,m)


print(M.shape)
values = M.toarray()[0]
clear_input_fp(0)
write_input_array(0, m, 100, values)
U = SparseArray.get_raw_input_from(0,m, 100)


for i in range(50):
    print_ln('Rating: %s %s', i, U[cint(i)].reveal())
